---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import Hero from "../components/Hero.astro";
import Services from "../components/Services.astro";
import About from "../components/About.astro";
import Contact from "../components/Contact.astro";
import Footer from "../components/Footer.astro";
---

<Layout
  title='ASMYES - Asociación Sinaloense de Médicos y Expertos en la Salud'>
  <Nav />
  <Hero />
  <Services />
  <About />
  <Contact />
  <Footer />
</Layout>
<script>
  // Smooth scroll
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute("href"));
      if (target) {
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    });
  });

  // Intersection Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -50px 0px",
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("visible");
      }
    });
  }, observerOptions);

  // Observe all animated elements
  document
    .querySelectorAll(".fade-in, .slide-left, .slide-right, .scale-in")
    .forEach((el) => {
      observer.observe(el);
    });

  // Navbar scroll effect
  window.addEventListener("scroll", () => {
    const nav = document.querySelector("nav");
    if (window.scrollY > 50) {
      nav.classList.add("shadow-xl");
    } else {
      nav.classList.remove("shadow-xl");
    }
  });
</script>
